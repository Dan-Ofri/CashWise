/* 📐 Full Screen Layout - No Scroll - CashWise v7.0 */

/* ===================================
   מסך מלא ללא גלילה
   =================================== */

html, body {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
    position: fixed;
    background: var(--gradient-primary-h); /* 🎨 */
}

body {
    padding-top: 0; /* ללא padding! */
    box-sizing: border-box;
}

/* כל ה-sections צריכים להיות מסך מלא */
section {
    position: absolute;
    top: 10vh; /* מתחת ל-header */
    left: 0;
    right: 0;
    bottom: 0;
    height: 90vh; /* בדיוק 90% מגובה המסך */
    overflow-y: auto; /* גלילה פנימית רק בתוך section */
    display: none;
    padding: 0; /* ללא padding - כל section מטפל בעצמו */
    margin: 0;
    box-sizing: border-box;
}

section.active {
    display: block !important; /* ⚠️ !important נדרש כי main.css קובע display: none */
}

/* Academy Section - מסך מלא - דורס את section.active */
#academy.active {
    display: flex !important; /* ✅ flex במקום block! */
    flex-direction: column !important;
    visibility: visible !important; /* ✅ וידוא גלויות */
    opacity: 1 !important; /* ✅ לא שקוף */
    z-index: 10 !important; /* ✅ מעל הכל */
}

#academy {
    padding: 1.5vh 1.5vw !important; /* padding מסביב - כמו הסימולטור */
    overflow-y: auto !important; /* אפשר גלילה לרשימת שיעורים */
    background: #2c3e50 !important; /* רקע כהה כמו סימולטור */
}

#academy .box {
    flex: 1 1 auto !important; /* תפוס את כל השטח הפנוי */
    padding: 2vh 2vw !important;
    margin: 0 !important;
    width: 100% !important; /* רוחב מלא */
    min-height: 400px !important; /* ✅ מינימום גובה ברור */
    background: #f5f7fa !important; /* רקע בהיר לכרטיסייה */
    border-radius: 12px !important; /* פינות מעוגלות */
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important; /* צל חזק יותר */
    transition: none !important; /* ביטול אנימציות */
    overflow-y: auto !important; /* גלילה פנימית אם צריך */
    display: flex !important; /* flex לתוכן הפנימי */
    flex-direction: column !important;
    visibility: visible !important; /* ✅ וידוא */
    opacity: 1 !important; /* ✅ לא שקוף */
    position: relative !important; /* ✅ positioning context */
    z-index: 1 !important; /* ✅ מעל רקע */
}

#academy .box:hover {
    transform: none !important; /* ביטול תזוזה */
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important; /* אותו צל */
}

/* רשימת שיעורים - וידוא גלויות */
#academy-lessons-list {
    display: flex !important;
    flex-direction: column !important;
    gap: 16px !important;
    width: 100% !important;
    min-height: 200px !important; /* מינימום גובה כדי לראות */
    background: transparent !important;
    padding: 0 !important;
    margin: 0 !important;
}

/* וידוא שפריטי השיעורים גלויים */
#academy-lessons-list .lesson-item {
    display: flex !important; /* ✅ לוודא שהם גלויים */
    visibility: visible !important;
    opacity: 1 !important;
}

/* Opening Section - רקע בהיר */
#opening {
    background: #f5f7fa !important; /* רקע בהיר */
}

/* Profile & Mentor Sections - רקע כהה */
#profile,
#mentor {
    background: #2c3e50 !important; /* רקע כחול-אפור כהה */
}

/* Simulation Section - מסך מלא */
#simulation {
    display: flex;
    flex-direction: column;
    /* padding מוגדר ב-simulation-compact.css - לא דורסים! */
    /* background מוגדר ב-simulation-compact.css */
}

#simulation .box {
    flex: 1;
    overflow-y: hidden; /* שונה מ-auto ל-hidden */
    /* margin ו-padding מוגדרים ב-simulation-compact.css - לא דורסים! */
    box-sizing: border-box;
    /* background מוגדר ב-simulation-compact.css */
}

/* תיקון ל-modals - צריכים להיות מעל הכל */
.modal {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    height: 100% !important;
    z-index: 10000 !important;
}

/* כפתורים צפים - מעל הכל */
/* הערה: .floating-academy-button מוגדר ב-floating-academy.css */
.floating-buttons {
    position: fixed !important;
    z-index: 999 !important;
}

/* ===================================
   Responsive - Mobile
   =================================== */

@media (max-width: 768px) {
    body {
        padding-top: 50px;
    }
    
    section {
        top: 50px;
    }
}

/* ===================================
   תיקון גלילה בחלונות קופצים
   =================================== */

/* כשיש modal פתוח - אפשר גלילה רק בתוכו */
body.modal-open {
    overflow: hidden !important;
}

.modal-content {
    max-height: 90vh;
    overflow-y: auto;
}

/* ===================================
   הסתרת scrollbars מיותרים
   =================================== */

/* הסתר scrollbar בכרום/safari */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: transparent;
}

::-webkit-scrollbar-thumb {
    background: rgba(0, 0, 0, 0.2);
    border-radius: 10px;
}

::-webkit-scrollbar-thumb:hover {
    background: rgba(0, 0, 0, 0.3);
}
